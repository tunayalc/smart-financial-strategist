# Smart Financial Strategist

This project goes beyond standard financial advisory engines by building an AI system that understands each individual’s unique goals, story, and risk perception. The system combines this personal information with historical market data and proven financial models to generate a fully personalized investment strategy—every step justified and actionable.

The core vision of the project is to be not a "calculator," but a reliable **"strategy partner"** in the user’s financial journey.

---

## Working Principle and Architecture

The system is built on the synergy of three expert modules. Each module is designed to help the AI agent answer a specific question:

### 1. Analytical Core (The Quant): "WHAT should be done?"
This module is the impartial, data-driven brain of the project. It analyzes historical market data (BIST, S&P 500, Commodities, Crypto) and applies Nobel Prize-winning **Modern Portfolio Theory (MPT)** principles. Using Monte Carlo simulations, it evaluates thousands of potential portfolios and determines the mathematically most efficient asset allocation (`Efficient Frontier`) based on the user’s risk profile.

### 2. Knowledge Pool (The Librarian - RAG): "WHY should it be done?"
This module is the system’s wisdom and memory. A curated knowledge base of expert articles on investment strategies, asset class analysis, and risk management is stored in a vector database (`ChromaDB`). Thanks to the **Retrieval-Augmented Generation (RAG)** architecture, it retrieves evidence-based reasoning from this knowledge base to explain the rationale behind every asset or strategy suggested by the Analytical Core.

### 3. Generative Agent (The Strategist - LLM): "Synthesis and Communication"
The heart and voice of the system, built with the **Llama 3.1** model running on `Ollama` and the `LangChain` agent framework. Acting like a conductor, this agent orchestrates the other two modules:
1. Understands the user’s goal in natural language.
2. Retrieves the numerical portfolio recommendation from the **Analytical Core**.
3. Uses the **Knowledge Pool** to gather reasoning and justifications.
4. Synthesizes both structured (numerical data) and unstructured (text) information to produce a holistic financial roadmap, written in an engaging and motivating tone, tailored to the user.

---

## Technologies and Environment

This project is developed in a fully Dockerized environment that brings together modern AI and software development tools.

- **Infrastructure & Container Management:** Docker, Docker Compose, NVIDIA CUDA Support  
- **AI & Machine Learning:** Ollama, Llama 3.1, LangChain, Sentence-Transformers  
- **Financial Modeling & Data Processing:** PyPortfolioOpt, yfinance, Pandas, NumPy  
- **Backend & Database:** Python 3.11, ChromaDB  
- **Frontend:** Streamlit  

---

## Project Files and Responsibilities

A breakdown of each part of the project and its role is provided below.

### Root Directory Files

- **`docker-compose.yml`**  
  - **Role:** Defines the project’s Docker services and their interconnections. Creates a single service named `stratejist-app`, configuring its network settings, port mappings, volume mounts, and GPU access permissions. It serves as the backbone of the project infrastructure.

- **`Dockerfile`**  
  - **Role:** Provides step-by-step instructions for building the `stratejist-app` container. It specifies the base Python image, installs required libraries from `requirements.txt`, copies project code into the container, and sets the `streamlit` command as the default process when the container starts.

- **`requirements.txt`**  
  - **Role:** A text file listing all Python libraries and their versions required for the project. The `Dockerfile` uses this file to automatically install all dependencies.

- **`.gitignore`**  
  - **Role:** Tells the Git version control system which files and folders should be ignored. Auto-generated folders (`chroma_db`, `__pycache__`) or files containing sensitive data (`.env`) are excluded from the repository, keeping the codebase clean and secure.

- **`README.md`**  
  - **Role:** This file. Explains the project’s purpose, architecture, technologies, and file structure. Serves as a guide and entry point for anyone visiting the project.

### `src/` Directory and Files

This folder contains all the logical and functional code of the application.

- **`src/app.py`**  
  - **Role:** The user-facing part of the project. Uses the `Streamlit` library to create an interactive web interface. It collects the user’s financial goal, triggers the AI agent with this input, and displays the final report generated by the agent in a formatted view.

- **`src/agent_tools.py`**  
  - **Role:** The integration hub at the center of the modular design. Wraps complex functions from other modules (`quant_core.py`, `rag_core.py`) into standard "tool" formats understood by the `LangChain` agent. This allows the LLM to call these functions with simple commands like "calculate portfolio" or "find justification."

- **`src/quant_core.py`**  
  - **Role:** The project’s “Quant” (numerical analyst) module. Fetches financial data via `yfinance`, uses the `PyPortfolioOpt` library to perform risk-return optimizations based on Modern Portfolio Theory, and outputs a numerical asset allocation recommendation.

- **`src/rag_core.py`**  
  - **Role:** The project’s “Librarian” module. Reads text documents from the `knowledge_base` folder, converts them into semantic vectors using `Sentence-Transformers`, and builds a searchable vector database with `ChromaDB`. Returns the most relevant text passages when queried by the agent.

- **`src/knowledge_base/` (Folder)**  
  - **Role:** Contains the knowledge sources for the RAG system. Each file teaches the RAG module about a specific financial concept. The system uses these texts to answer “Why?” questions.  
    - **`altin.txt`**: Explains why gold is considered a "safe haven" during economic uncertainty and its balancing role in a portfolio.  
    - **`cesitlendirme.txt`**: Describes the importance of portfolio diversification as the fundamental principle of spreading investment risk.  
    - **`hisse_senetleri.txt`**: Outlines what stocks are, their long-term growth potential, and the risks they carry.  
